<div>
    <nav class="navigation-container btn-group">
        <a class="btn btn-info" href="#/retrospectives">
            <span class="glyphicon glyphicon-circle-arrow-left"></span> Back to retrospectives
        </a>
        <a class="btn btn-info" target="_blank" href="#/retrospectives/{{retroId}}/markup">
            <span class="glyphicon glyphicon-list-alt"></span> Wiki markup
        </a>
        <a class="btn btn-success" href="#/tickets/{{retroId}}">
            <span class="glyphicon glyphicon-plus-sign"></span> Add tickets
        </a>
    </nav>

    <header>
        <h1>Board: {{retroName}}</h1>
        <button class="btn btn-default" ng-click="updateTickets()">
            <span class="glyphicon glyphicon-refresh"></span> Refresh
        </button>
    </header>

    <div>
        <div class="col-xs-12 col-md-3">
            <h2>Positive</h2>
            <ul id="positive-tickets" class="tickets">
                <li class="ticket pro" ng-repeat="ticket in tickets | filter: {role:'pro'}">
                    <div class="ticket-controls">
                        <button class="delete-ticket btn btn-warning" ng-click="chooseTags(ticket)">
                            <span class="glyphicon glyphicon-tag"></span>
                            <span class="sr-only">Tag</span>
                        </button>
                        <button class="delete-ticket btn btn-danger" ng-click="deleteTicket(ticket)">
                            <span class="glyphicon glyphicon-remove"></span>
                            <span class="sr-only">Delete</span>
                        </button>
                    </div>
                    <div class="ticket-message">{{ticket.message}}</div>
                </li>
            </ul>
        </div>

        <div class="col-xs-12 col-md-3">
            <h2>Negative</h2>
            <ul id="negative-tickets" class="tickets">
                <li class="ticket con" ng-repeat="ticket in tickets | filter: {role:'con'}">
                    <div class="ticket-controls">
                        <button class="delete-ticket btn btn-warning" ng-click="chooseTags(ticket)">
                            <span class="glyphicon glyphicon-tag"></span>
                            <span class="sr-only">Tag</span>
                        </button>
                        <button class="delete-ticket btn btn-danger" ng-click="deleteTicket(ticket)">
                            <span class="glyphicon glyphicon-remove"></span>
                            <span class="sr-only">Delete</span>
                        </button>
                    </div>
                    <div class="ticket-message">{{ticket.message}}</div>
                </li>
            </ul>
        </div>
        <div class="col-xs-12 col-md-3">
            <h2>Puzzle</h2>
            <ul id="puzzle-tickets" class="tickets">
                <li class="ticket puzzle" ng-repeat="ticket in tickets | filter: {role:'puzzle'}">
                    <div class="ticket-controls">
                        <button class="delete-ticket btn btn-warning" ng-click="chooseTags(ticket)">
                            <span class="glyphicon glyphicon-tag"></span>
                            <span class="sr-only">Tag</span>
                        </button>
                        <button class="delete-ticket btn btn-danger" ng-click="deleteTicket(ticket)">
                            <span class="glyphicon glyphicon-remove"></span>
                            <span class="sr-only">Delete</span>
                        </button>
                    </div>
                    <div class="ticket-message">{{ticket.message}}</div>
                </li>
            </ul>
        </div>
    </div>

    <!-- TAGGING COMPONENT - SPLIT THIS OUT! -->
    <div id="overlay" ng-show="choosingTag"></div>
    <div id="tag-chooser" ng-show="choosingTag">
        <div class="modal-controls">
            <button class="close-btn btn btn-danger" ng-click="closeTagChooser()">
                <span class="glyphicon glyphicon-remove"></span>
                <span class="sr-only">Close</span>
            </button>
        </div>

        <div class="tag-container">
            <ul class="tags">
                <li class="tag" ng-click="deselectTag(selectedTag)" ng-repeat="selectedTag in selectedTags">{{selectedTag}}</li>
            </ul>

            <form ng-submit="selectTag()">
                <input placeholder="Add a tag..." autocomplete type="text" datasets="tagsData" ng-model="tagSelect">
                <button class="btn btn-success" type="submit">Add</button>
            </form>
        </div>
    </div>
</div>
